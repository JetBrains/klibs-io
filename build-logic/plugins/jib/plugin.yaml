tasks:
  jib: # need command with argument for the image name/tag
    action: !buildAndPush
      runtimeClasspath: ${module.runtimeClasspath}
      container: ${pluginSettings.container}
      baseImage: ${pluginSettings.baseImage}
      targetImage: ${pluginSettings.targetImage}

  jibDockerBuild:
    action: !buildToDockerDaemon
      runtimeClasspath: ${module.runtimeClasspath}
      container: ${pluginSettings.container}
      baseImage: ${pluginSettings.baseImage}
      targetImageName: ${pluginSettings.targetImage.name}

  jibBuildTar:
    action: !buildTar
      runtimeClasspath: ${module.runtimeClasspath}
      container: ${pluginSettings.container}
      baseImage: ${pluginSettings.baseImage}
      outputTar: ${taskOutputDir}/${module.name}-oci-image.tar
      targetImageName: ${pluginSettings.targetImage.name}
